---
import { ArrowRight, Bot } from "lucide-react";

import { Carousel } from "./carousel";

import {
	Button,
	Card,
	Center,
	Flex,
	Grid,
	Link,
	Section as SectionLayout,
	Text,
	VStack,
} from "~/components/ui";
import { cn } from "~/lib";

const images = Object.values(
	await Astro.glob<{ default: ImageMetadata }>("~/assets/gallery/*"),
).map((x) => x.default);
---

<!-- TODO add content --><!-- TODO extract repetitive text styling -->
<SectionLayout
	className={cn("bg-gradient", "h-auto mx-6 lg:mt-32 lg:h-[90vh] rounded-b-3xl")}
>
	<VStack alignment="center/start" className="gap-20 pb-8">
		<!-- {images.map((img) => <Image src={img} alt="" />)} -->
		<Flex
			stretch="width"
			className="flex-col items-center gap-4 lg:flex-row lg:items-start"
		>
			<Center className="mx-auto rounded-xl border-2 border-border lg:m-1">
				<Center
					className="m-1 rounded-lg bg-gradient-to-br from-brand-secondary to-brand p-4 ring-2 ring-brand-secondary/20"
				>
					<Bot className="h-10 w-10 drop-shadow-md" />
				</Center>
			</Center>

			<VStack alignment="start/center" className="gap-4">
				<Text.H2
					gradient="to-top"
					className="mx-auto from-off-white-300 to-off-white-100 text-center font-inter font-bold leading-tight tracking-tight lg:text-left lg:text-4xl"
				>
					Build robots better, <br /> faster, like a team.
				</Text.H2>
				<Text.P className="mx-auto text-text-secondary lg:m-0">
					Cea mai echipa din Bucuresti
				</Text.P>
			</VStack>
		</Flex>

		<Grid
			cols={12}
			className="mx-4 mb-6 gap-6 lg:mx-0 lg:mb-0 lg:aspect-[2/1] lg:h-[50vh] lg:max-w-min"
		>
			<Carousel client:visible images={images} />

			<Card.Root shape="square" className="col-span-12 lg:col-span-5">
				<!-- TODO obviously schimba textul -->
				<Text.H2 className="m-auto">
					the more you fuck around the more you find out
				</Text.H2>
				<Button
					variant="alternative"
					as={Link.Nav}
					href="/team"
					fullWidth
					className="group scale-95 rounded-xl transition-transform hover:scale-100"
				>
					Descopera echipa <ArrowRight
						className="transition-transform group-hover:translate-x-2"
					/>
				</Button>
			</Card.Root>
		</Grid>
	</VStack>
</SectionLayout>

<style>
	.bg-gradient {
		background: radial-gradient(
			128.5% 107.13% at 50% 2.92%,
			transparent 55%,
			hsla(var(--brand)) 78.65%,
			hsl(var(--off-white-100)) 100%
		);
	}
</style>
