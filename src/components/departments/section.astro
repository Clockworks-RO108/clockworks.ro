---
import { Laptop } from "lucide-react";

import { DepartmentCard } from "./department-card";

import BgGradient from "~/components/bg-gradient.astro";
import {
	CTAButton,
	Center,
	Grid,
	Section as SectionLayout,
	Text,
	VStack,
} from "~/components/ui";
import { getTranslations } from "~/lib";

export type Props = {
	withCTA: boolean;
};

const { withCTA } = Astro.props;

const lang = Astro.params.lang;
const t = getTranslations(lang);
---

<SectionLayout className="relative mt-32 h-auto">
	<BgGradient />

	<Center direction="col" className="z-10 gap-20">
		<VStack alignment="center/center" className="max-w-prose gap-10">
			<Center className="gap-6">
				<Text.H2 align="center" id="departments" className="scroll-m-28">
					{t("index.departments.title")}
				</Text.H2>
				<Text.P align="center" className="text-text-secondary">
					{t("index.departments.subtitle")}
				</Text.P>
			</Center>

			{
				withCTA ? (
					<CTAButton href={`${lang}/about#departments`}>
						{t("index.departments.cta")}
					</CTAButton>
				) : null
			}
		</VStack>

		<Center className="w-screen">
			<Grid stretch="width" cols={3} className="mx-6 gap-6 xl:max-w-[70vw]">
				<DepartmentCard
					icon={Laptop}
					title={t("index.departments.mechanics.title")}
					description={t("index.departments.mechanics.description")}
				/>
				<DepartmentCard
					icon={Laptop}
					title={t("index.departments.programming.title")}
					description={t("index.departments.programming.description")}
				/>
				<DepartmentCard
					icon={Laptop}
					title={t("index.departments.marketing.title")}
					description={t("index.departments.marketing.description")}
				/>
			</Grid>
		</Center>
	</Center>
</SectionLayout>
